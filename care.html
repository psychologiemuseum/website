// Im Fragment Shader (nur den Teil hier ersetzen)
precision mediump float;
uniform vec2 u_resolution;
uniform vec2 u_mouse;
uniform float u_time;

void main() {
  vec2 uv = gl_FragCoord.xy / u_resolution;
  vec2 centered = uv - 0.5;

  float angle = atan(u_mouse.y - 0.5, u_mouse.x - 0.5);

  // Dynamische Frequenzen je nach Mausposition
  float freq1 = mix(100.0, 500.0, u_mouse.x);
  float freq2 = mix(102.0, 510.0, u_mouse.y);

  // Überlagerte Wellen mit Frequenzabstand
  float wave1 = sin(dot(centered, vec2(cos(angle), sin(angle))) * freq1 + u_time);
  float wave2 = sin(dot(centered, vec2(sin(angle), cos(angle))) * freq2 - u_time);

  // Moiré-Überlagerung
  float moire = wave1 * wave2;

  // Harter Kontrast
  float brightness = step(0.0, moire);
  gl_FragColor = vec4(vec3(brightness), 1.0);
}
